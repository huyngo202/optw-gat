
\begin{figure}[h!]
    \centering
    \begin{tikzpicture}[scale=1.5, >=stealth]
        % Nodes
        \node[choice, fill=green!20, draw=black] (depot) at (0, 0) {\textbf{Start/End}};
        \node[below=0.2cm of depot] {\small T: [0, 100]};
        
        \node[circle, draw=black, fill=blue!10] (node1) at (2, 2) {1};
        \node[above=0.1cm of node1] {\small S=10};
        \node[below=0.1cm of node1] {\small [10, 20]};
        
        \node[circle, draw=black, fill=blue!10] (node2) at (4, 1) {2};
        \node[above=0.1cm of node2] {\small S=15};
        \node[below=0.1cm of node2] {\small [25, 40]};
        
        \node[circle, draw=black, fill=red!20] (node3) at (3, -1) {3};
        \node[below=0.1cm of node3] {\small S=20};
        \node[above=0.1cm of node3] {\small [15, 25]};
        
        % Edges (Route)
        \draw[->, thick, blue] (depot) -- node[midway, left, font=\scriptsize] {t=5} (node1);
        \draw[->, thick, blue] (node1) -- node[midway, above, font=\scriptsize] {t=8} (node2);
        \draw[->, thick, blue, dashed] (node2) -- (depot);
        
        % Unvisited edge
        \draw[->, gray, dotted] (node1) -- (node3);
        
        % Annotations
        \node[right=0.5cm of node2, align=left, font=\scriptsize] (desc) {
            \textbf{Route}: Start $\to$ 1 $\to$ 2 $\to$ End\\
            Constraint checked:\\
            - Arrival at 1: $t_1 = 5 \in [10, 20]$ (Wait 5)\\
            - Arrival at 2: $t_2 = 20 + 8 = 28 \in [25, 40]$
        };
        
    \end{tikzpicture}
    \caption{Minh họa bài toán OPTW. Tác nhân cần chọn một tập hợp điểm (ví dụ: 1, 2) và lộ trình đi qua chúng sao cho tổng điểm thưởng S là lớn nhất và thỏa mãn khung thời gian (Time Windows). Điểm 3 bị bỏ qua do không tối ưu hoặc vi phạm ràng buộc.}
    \label{fig:optw_concept}
\end{figure}
